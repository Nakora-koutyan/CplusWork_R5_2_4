#pragma once
#include "common.h"

struct ObjectBlock
{
	int flg;
	int x, y;
	int w, h;
	int image;
	int score;
};
class StageBlock
{
protected:
	int stage;
	int block_images[8];
	ObjectBlock block[BLOCK_HEIGHT][BLOCK_WIDTH];

	const int	g_block_data[STAGE][BLOCK_HEIGHT][BLOCK_WIDTH] = 
	{	// ブロック配列
		{	// 0ｽﾃｰｼﾞ
			{ 1 , 1 , 1 , 1 , 1 , 1 , 1 , 7 , 7 , 1 , 1 , 1 , 1 , 1 , 1 , 1 },
			{ 1 , 1 , 1 , 1 , 1 , 1 , 1 , 7 , 7 , 1 , 1 , 1 , 1 , 1 , 1 , 1 },
			{ 1 , 1 , 1 , 1 , 1 , 1 , 7 , 7 , 7 , 7 , 1 , 1 , 1 , 1 , 1 , 1 },
			{ 1 , 1 , 1 , 1 , 1 , 1 , 7 , 7 , 7 , 7 , 1 , 1 , 1 , 1 , 1 , 1 },
			{ 1 , 1 , 1 , 1 , 1 , 7 , 7 , 7 , 7 , 7 , 7 , 1 , 1 , 1 , 1 , 1 },
			{ 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 },
			{ 1 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 1 },
			{ 1 , 1 , 7 , 7	, 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 1 , 1 },
			{ 1 , 1 , 1 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 1 , 1 , 1 },
			{ 1 , 1 , 1 , 1 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 1 , 1 , 1 , 1 },
			{ 1 , 1 , 1 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 1 , 1 , 1 },
			{ 1 , 1 , 7 , 7 , 7 , 7 , 7 , 1 , 1 , 7 , 7 , 7 , 7 , 7 , 1 , 1 },
			{ 1 , 7 , 7 , 7 , 7 , 7 , 1 , 1 , 1 , 1 , 7 , 7 , 7 , 7 , 7 , 1 },
			{ 7 , 7 , 7 , 7 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 7 , 7 , 7 , 7 },
			{ 7 , 7 , 7 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 7 , 7 , 7 }
		},
		{	// 1ｽﾃｰｼﾞ
			{ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 1 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 },
			{ 0 , 0 , 0 , 0 , 0 , 0 , 1 , 1 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 },
			{ 0 , 0 , 0 , 0 , 0 , 1 , 1 , 1 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 },
			{ 0 , 0 , 1 , 0 , 1 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 },
			{ 0 , 0 , 0 , 1 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 },
			{ 0 , 0 , 1 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 },
			{ 0 , 1 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 1 , 0 },
			{ 0 , 1 , 0 , 2 , 2 , 3 , 4 , 4 , 4 , 4 , 3 , 2 , 2 , 0 , 1 , 1 },
			{ 0 , 1 , 0 , 0 , 0 , 2 , 3 , 3 , 3 , 3 , 2 , 0 , 0 , 0 , 1 , 1 },
			{ 0 , 1 , 0 , 0 , 0 , 0 , 2 , 2 , 2 , 2 , 0 , 0 , 0 , 0 , 0 , 1 },
			{ 0 , 0 , 1 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 1 , 0 },
			{ 0 , 0 , 0 , 1 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 1 , 0 , 0 },
			{ 0 , 0 , 0 , 0 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 0 , 0 , 0 },
			{ 0 , 0 , 0 , 0 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 0 , 0 , 0 },
			{ 0 , 0 , 0 , 0 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 0 , 0 , 0 },

		},
		{	// 2ｽﾃｰｼﾞ
			{ 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 },
			{ 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 7 },
			{ 0 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 0 },
			{ 0 , 0 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 0 , 0 },
			{ 0 , 0 , 0 , 5 , 5 , 5 , 5 , 5 , 5 , 5 , 5 , 5 , 5 , 0 , 0 , 0 },
			{ 0 , 0 , 0 , 0 , 5 , 5 , 5 , 5 , 5 , 5 , 5 , 5 , 0 , 0 , 0 , 0 },
			{ 0 , 0 , 0 , 0 , 0 , 4 , 4 , 4 , 4 , 4 , 4 , 0 , 0 , 0 , 0 , 0 },
			{ 0 , 0 , 0 , 0 , 0 , 0 , 4 , 4 , 4 , 4 , 0 , 0 , 0 , 0 , 0 , 0 },
			{ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 3 , 3 , 0 , 0 , 0 , 0 , 0 , 0 , 0 },
			{ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 3 , 3 , 0 , 0 , 0 , 0 , 0 , 0 , 0 },
			{ 0 , 0 , 1 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 1 , 0 },
			{ 0 , 0 , 0 , 1 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 1 , 0 , 0 },
			{ 0 , 0 , 0 , 0 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 0 , 0 , 0 },
			{ 0 , 0 , 0 , 0 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 0 , 0 , 0 },
			{ 0 , 0 , 0 , 0 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 0 , 0 , 0 },
		},
		{	// 3ｽﾃｰｼﾞ
			{ 0 , 1 , 1 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 },
			{ 0 , 1 , 1 , 2 , 2 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 },
			{ 0 , 1 , 1 , 2 , 2 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 },
			{ 0 , 1 , 1 , 2 , 2 , 3 , 3 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 },
			{ 0 , 1 , 1 , 2 , 2 , 3 , 3 , 4 , 4 , 0 , 0 , 0 , 0 , 0 , 0 , 0 },
			{ 0 , 1 , 1 , 2 , 2 , 3 , 3 , 4 , 4 , 5 , 5 , 0 , 0 , 0 , 0 , 0 },
			{ 0 , 1 , 1 , 2 , 2 , 3 , 3 , 4 , 4 , 5 , 5 , 6 , 6 , 0 , 0 , 0 },
			{ 0 , 1 , 1 , 2 , 2 , 3 , 3 , 4 , 4 , 5 , 5 , 6 , 6 , 7 , 7 , 0 },
			{ 0 , 1 , 1 , 2 , 2 , 3 , 3 , 4 , 4 , 5 , 5 , 6 , 6 , 7 , 7 , 0 },
			{ 0 , 1 , 1 , 2 , 2 , 3 , 3 , 4 , 4 , 5 , 5 , 6 , 6 , 7 , 7 , 0 },
			{ 0 , 0 , 1 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 1 , 0 },
			{ 0 , 0 , 0 , 1 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 1 , 0 , 0 },
			{ 0 , 0 , 0 , 0 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 0 , 0 , 0 },
			{ 0 , 0 , 0 , 0 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 0 , 0 , 0 },
			{ 0 , 0 , 0 , 0 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 0 , 0 , 0 },
		},
		{	// 4ｽﾃｰｼﾞ
			{ 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 },
			{ 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 },
			{ 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 },
			{ 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 },
			{ 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 },
			{ 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 },
			{ 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 },
			{ 7 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 },
			{ 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 },
			{ 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 },
			{ 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 },
			{ 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 },
			{ 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 },
			{ 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 },
			{ 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 , 7 , 8 },
		},
		{	//　5ステージ
			{ 1 , 0 , 0 , 1 , 2 , 2 , 2 , 3 , 0 , 0 , 0 , 4 , 0 , 5 , 5 , 5 },
			{ 1 , 0 , 0 , 1 , 2 , 0 , 0 , 3 , 0 , 0 , 4 , 4 , 4 , 5 , 0 , 5 },
			{ 1 , 1 , 1 , 1 , 2 , 0 , 0 , 3 , 0 , 0 , 4 , 0 , 4 , 5 , 0 , 5 },
			{ 0 , 1 , 1 , 0 , 2 , 0 , 0 , 3 , 0 , 0 , 4 , 0 , 4 , 5 , 0 , 0 },
			{ 0 , 1 , 1 , 0 , 2 , 2 , 2 , 3 , 0 , 0 , 4 , 0 , 4 , 5 , 0 , 0 },
			{ 0 , 1 , 1 , 0 , 2 , 0 , 0 , 3 , 0 , 0 , 4 , 0 , 4 , 5 , 0 , 0 },
			{ 0 , 1 , 1 , 0 , 2 , 0 , 0 , 3 , 0 , 0 , 4 , 4 , 4 , 5 , 5 , 5 },
			{ 1 , 1 , 1 , 1 , 2 , 0 , 0 , 3 , 0 , 0 , 4 , 0 , 4 , 5 , 0 , 5 },
			{ 1 , 0 , 0 , 1 , 2 , 0 , 0 , 3 , 0 , 3 , 4 , 0 , 4 , 5 , 0 , 5 },
			{ 1 , 0 , 0 , 1 , 2 , 0 , 7 , 3 , 3 , 3 , 4 , 0 , 4 , 5 , 5 , 5 },
			{ 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 },
			{ 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 },
			{ 8 , 8 , 8 , 8 , 8 , 8 , 8 , 8 , 8 , 8 , 8 , 8 , 8 , 8 , 8 , 8 },
			{ 0 , 0 , 0 , 0 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 0 , 0 , 0 },
			{ 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 }
		}
	};

public:
	//コンストラクタ
	StageBlock();

	//現在のステージ
	void HitStage();

	//ブロックチェック処理
	int CheckBlock();

	//現在のステージ数
	static int StageUpdate;

	//配列の初期化
	void InitBlock();

	//描画に関することを実装する
	void Draw()const;
	void Update();
};

